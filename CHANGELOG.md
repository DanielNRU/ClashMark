# Журнал изменений

Все значимые изменения в проекте ClashMark будут документированы в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и проект следует [Semantic Versioning](https://semver.org/lang/ru/).

## [Неопубликовано]

### Добавлено
- Поддержка Python 3.11
- Автоматическая проверка кода с pre-commit
- GitHub Actions для CI/CD
- Политика безопасности
- Руководство для контрибьюторов

### Изменено
- Улучшена производительность поиска изображений
- Оптимизирован алгоритм анализа коллизий
- Обновлен интерфейс статистики

### Исправлено
- Ошибка с переменной `need_images` в функции анализа
- Проблемы с отображением матрицы ошибок
- Улучшена обработка ошибок

## [1.0.0] - 2025-01-10

### Добавлено
- Веб-интерфейс для анализа коллизий BIM-моделей
- Система машинного обучения для классификации коллизий
- Поддержка XML файлов в форматах Standard и BIM Step
- Автоматический поиск изображений по коллизиям
- Настройка порогов уверенности для модели
- Экспорт результатов в различные форматы
- Система обучения новых моделей
- Отслеживание прогресса обучения в реальном времени
- Матрица ошибок и метрики качества модели
- Унифицированный дизайн интерфейса
- Поиск и сортировка в таблицах пар категорий
- Drag & Drop загрузка файлов
- Предпросмотр статистики перед анализом

### Технические особенности
- Flask веб-фреймворк
- PyTorch для машинного обучения
- MobileNetV3 архитектура нейронной сети
- Pandas для обработки данных
- Pillow для работы с изображениями
- YAML конфигурация пар категорий
- Адаптивный дизайн с CSS Grid и Flexbox
- Chart.js для визуализации графиков
- Асинхронная обработка файлов

### Структура проекта
```
clashmark/
├── app.py                 # Главный файл приложения
├── requirements.txt       # Зависимости Python
├── README.md             # Документация проекта
├── INSTRUCTION.md        # Инструкции по использованию
├── core/                 # Основные утилиты
│   ├── xml_utils.py      # Работа с XML файлами
│   └── image_utils.py    # Работа с изображениями
├── ml/                   # Машинное обучение
│   ├── model.py          # Модели нейронных сетей
│   ├── dataset.py        # Датасеты
│   ├── train.py          # Обучение моделей
│   └── inference.py      # Инференс
├── web/                  # Веб-интерфейс
│   ├── routes.py         # Маршруты Flask
│   ├── utils.py          # Утилиты веб-интерфейса
│   └── progress.py       # Отслеживание прогресса
├── templates/            # HTML шаблоны
├── static/               # Статические файлы
└── model/                # Сохраненные модели
```

## [0.9.0] - 2024-12-15

### Добавлено
- Базовая функциональность анализа коллизий
- Простой веб-интерфейс
- Поддержка XML файлов
- Основная модель машинного обучения

### Исправлено
- Критические ошибки в обработке файлов
- Проблемы с совместимостью Python версий

---

## Типы изменений

- **Добавлено** для новых функций
- **Изменено** для изменений в существующих функциях
- **Устарело** для функций, которые скоро будут удалены
- **Удалено** для удаленных функций
- **Исправлено** для исправлений ошибок
- **Безопасность** для исправлений уязвимостей

## Ссылки

- [GitHub Releases](https://github.com/your-username/clashmark/releases)
- [Сравнение версий](https://github.com/your-username/clashmark/compare)
- [Issues](https://github.com/your-username/clashmark/issues) 